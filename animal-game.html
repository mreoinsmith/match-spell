<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mega Match & Spell</title>
    <style>
      /* --- CSS Styles --- */
      :root {
        --primary: #4fc3f7;
        --accent: #ff7043;
        --bg-gradient: linear-gradient(135deg, #e0f7fa 0%, #fff9c4 100%);
      }

      body {
        font-family: "Comic Sans MS", "Chalkboard SE", "Arial", sans-serif;
        background: var(--bg-gradient);
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        overflow: hidden;
        user-select: none;
      }

      /* --- SCREENS --- */
      .screen {
        background-color: #ffffff;
        width: 95%;
        max-width: 700px;
        padding: 20px;
        border-radius: 30px;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        text-align: center;
        border: 8px solid var(--primary);
        position: relative;
        display: none;
        max-height: 95vh;
        overflow-y: auto; /* Allow scrolling on small screens if needed */
      }

      .screen.active {
        display: block;
        animation: fadeIn 0.4s ease-out;
      }

      /* --- MENU STYLES --- */
      h1 {
        color: var(--accent);
        font-size: 2.2rem;
        margin: 10px 0 20px 0;
      }
      h3 {
        color: #555;
        margin: 15px 0 10px 0;
      }

      /* Difficulty Selector */
      .difficulty-row {
        display: flex;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
        margin-bottom: 25px;
      }

      .diff-btn {
        padding: 10px 15px;
        background: #eceff1;
        border: 2px solid #cfd8dc;
        border-radius: 15px;
        cursor: pointer;
        font-weight: bold;
        color: #78909c;
        transition: all 0.2s;
        flex: 1 1 100px; /* Responsive sizing */
      }

      .diff-btn.selected {
        background: #29b6f6;
        color: white;
        border-color: #0288d1;
        transform: scale(1.05);
        box-shadow: 0 4px 10px rgba(41, 182, 246, 0.4);
      }

      /* Category Grid */
      .menu-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 15px;
        padding: 10px;
      }

      .cat-btn {
        padding: 20px;
        font-size: 1.2rem;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        font-family: inherit;
        font-weight: bold;
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 8px;
        transition: transform 0.2s;
        box-shadow: 0 5px 0 rgba(0, 0, 0, 0.2);
      }

      .cat-btn:active {
        transform: translateY(4px);
        box-shadow: none;
      }
      .cat-btn span {
        font-size: 2rem;
      } /* Emoji size */

      /* Category Colors */
      .c-animals {
        background-color: #ffca28;
      }
      .c-food {
        background-color: #ef5350;
      }
      .c-vehicles {
        background-color: #5c6bc0;
      }
      .c-space {
        background-color: #263238;
      }
      .c-weather {
        background-color: #42a5f5;
      }
      .c-emotions {
        background-color: #66bb6a;
      }

      /* --- GAME UI --- */
      .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
        font-weight: bold;
        color: #555;
      }

      .score-box {
        background: #fff9c4;
        padding: 5px 15px;
        border-radius: 15px;
      }

      .back-btn {
        background: #eceff1;
        border: none;
        padding: 8px 15px;
        border-radius: 10px;
        cursor: pointer;
        font-weight: bold;
        color: #555;
      }

      .emoji-display {
        font-size: 100px;
        margin: 10px 0 20px 0;
        filter: drop-shadow(0 5px 5px rgba(0, 0, 0, 0.1));
        transition: transform 0.3s;
      }

      /* Slots */
      .slots-container {
        display: flex;
        justify-content: center;
        gap: 8px;
        margin-bottom: 25px;
        min-height: 55px;
        flex-wrap: wrap;
      }

      .slot {
        width: 45px;
        height: 55px;
        background-color: #f0f0f0;
        border-bottom: 4px solid #ccc;
        border-radius: 10px;
        font-size: 28px;
        line-height: 55px;
        font-weight: bold;
        color: #333;
        cursor: pointer;
      }

      .slot.filled {
        background-color: #fff;
        border-bottom: 4px solid #42a5f5;
        color: #1976d2;
        transform: translateY(-2px);
      }

      .slot.active {
        border: 2px solid #ffca28;
        background: #fffde7;
      }

      /* Tiles */
      .tiles-container {
        display: flex;
        justify-content: center;
        gap: 8px;
        flex-wrap: wrap;
        margin-bottom: 20px;
        min-height: 60px;
      }

      .tile {
        width: 45px;
        height: 55px;
        background-color: #ffca28;
        color: #5d4037;
        border: none;
        border-bottom: 4px solid #ff8f00;
        border-radius: 10px;
        font-size: 26px;
        font-weight: bold;
        cursor: pointer;
        font-family: inherit;
      }

      .tile:active {
        transform: translateY(4px);
        border-bottom-width: 0px;
      }
      .tile.used {
        opacity: 0;
        pointer-events: none;
      }

      /* Controls */
      .controls {
        display: flex;
        justify-content: center;
        gap: 15px;
      }
      .btn {
        padding: 10px 20px;
        font-size: 16px;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        font-weight: bold;
        color: white;
        font-family: inherit;
      }
      .btn-skip {
        background-color: #78909c;
      }
      .btn-reset {
        background-color: #ffa726;
      }

      .message {
        margin-top: 15px;
        height: 25px;
        font-size: 1.2rem;
        font-weight: bold;
      }
      .correct-text {
        color: #2e7d32;
      }
      .error-message {
        color: #d32f2f;
        font-size: 1rem;
        margin-top: 10px;
        display: none;
      }

      /* Animation */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes pop {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.3);
        }
        100% {
          transform: scale(1);
        }
      }
      .pop-anim {
        animation: pop 0.4s;
      }
    </style>
  </head>
  <body>
    <div id="menuScreen" class="screen active">
      <h1>‚ú® Match & Spell ‚ú®</h1>

      <h3>1. Pick Your Level</h3>
      <div class="difficulty-row">
        <button class="diff-btn selected" onclick="setDifficulty(0, 3, this)">
          Tiny<br />(2-3 Letters)
        </button>
        <button class="diff-btn" onclick="setDifficulty(3, 5, this)">
          Little<br />(3-5 Letters)
        </button>
        <button class="diff-btn" onclick="setDifficulty(5, 7, this)">
          Big<br />(5-7 Letters)
        </button>
        <button class="diff-btn" onclick="setDifficulty(7, 20, this)">
          Super<br />(7+ Letters)
        </button>
      </div>

      <h3>2. Pick a Topic</h3>
      <div class="menu-grid">
        <button class="cat-btn c-animals" onclick="startGame('animals')">
          <span>ü¶Å</span> Animals
        </button>
        <button class="cat-btn c-food" onclick="startGame('food')">
          <span>üçï</span> Food
        </button>
        <button class="cat-btn c-vehicles" onclick="startGame('vehicles')">
          <span>üöÄ</span> Vehicles
        </button>
        <button class="cat-btn c-space" onclick="startGame('space')">
          <span>ü™ê</span> Space
        </button>
        <button class="cat-btn c-weather" onclick="startGame('weather')">
          <span>üåßÔ∏è</span> Weather
        </button>
        <button class="cat-btn c-emotions" onclick="startGame('emotions')">
          <span>üòä</span> Emotions
        </button>
      </div>

      <div id="menuError" class="error-message">
        No words of that length found in this category! Try a different level.
      </div>
    </div>

    <div id="gameScreen" class="screen">
      <div class="header">
        <button class="back-btn" onclick="goToMenu()">¬´ Back</button>
        <span id="gameTitle">Topic</span>
        <div class="score-box">‚≠ê <span id="scoreVal">0</span></div>
      </div>

      <div id="emoji" class="emoji-display">ü¶Å</div>

      <div class="slots-container" id="slotsArea"></div>
      <div class="tiles-container" id="tilesArea"></div>

      <div class="controls">
        <button class="btn btn-reset" onclick="resetRound()">Reset ‚Ü∫</button>
        <button class="btn btn-skip" onclick="skipItem()">Skip ‚è©</button>
      </div>

      <div id="message" class="message"></div>
    </div>

    <script>
      // --- LARGE DATA LIBRARY ---
      // Organized by Category. The code will filter by length automatically.
      const data = {
        animals: [
          // Short (2-3)
          { n: "CAT", e: "üê±" },
          { n: "DOG", e: "üê∂" },
          { n: "PIG", e: "üê∑" },
          { n: "COW", e: "üêÆ" },
          { n: "BAT", e: "ü¶á" },
          { n: "FOX", e: "ü¶ä" },
          { n: "BEE", e: "üêù" },
          { n: "ANT", e: "üêú" },
          { n: "YAK", e: "üêÇ" },
          { n: "OWL", e: "ü¶â" },
          { n: "BUG", e: "üêõ" },
          // Med (3-5)
          { n: "LION", e: "ü¶Å" },
          { n: "BEAR", e: "üêª" },
          { n: "DUCK", e: "ü¶Ü" },
          { n: "FROG", e: "üê∏" },
          { n: "FISH", e: "üê†" },
          { n: "WOLF", e: "üê∫" },
          { n: "DEER", e: "ü¶å" },
          { n: "CRAB", e: "ü¶Ä" },
          { n: "BIRD", e: "üê¶" },
          { n: "WORM", e: "ü™±" },
          { n: "TIGER", e: "üêØ" },
          { n: "HORSE", e: "üê¥" },
          { n: "ZEBRA", e: "ü¶ì" },
          { n: "SHEEP", e: "üêë" },
          { n: "GOAT", e: "üêê" },
          { n: "MOUSE", e: "üê≠" },
          { n: "SNAKE", e: "üêç" },
          { n: "WHALE", e: "üê≥" },
          { n: "SHARK", e: "ü¶à" },
          { n: "EAGLE", e: "ü¶Ö" },
          { n: "PANDA", e: "üêº" },
          { n: "KOALA", e: "üê®" },
          { n: "CAMEL", e: "üê´" },
          // Long (6+)
          { n: "MONKEY", e: "üêµ" },
          { n: "RABBIT", e: "üê∞" },
          { n: "TURTLE", e: "üê¢" },
          { n: "SPIDER", e: "üï∑Ô∏è" },
          { n: "DONKEY", e: "ü´è" },
          { n: "TURKEY", e: "ü¶É" },
          { n: "LIZARD", e: "ü¶é" },
          { n: "PARROT", e: "ü¶ú" },
          { n: "DOLPHIN", e: "üê¨" },
          { n: "PENGUIN", e: "üêß" },
          { n: "GIRAFFE", e: "ü¶í" },
          { n: "ELEPHANT", e: "üêò" },
          { n: "KANGAROO", e: "ü¶ò" },
          { n: "SQUIRREL", e: "üêøÔ∏è" },
          { n: "GORILLA", e: "ü¶ç" },
          { n: "BUTTERFLY", e: "ü¶ã" },
          { n: "OCTOPUS", e: "üêô" },
          { n: "CROCODILE", e: "üêä" },
          { n: "FLAMINGO", e: "ü¶©" },
          { n: "DINOSAUR", e: "ü¶ñ" },
        ],
        food: [
          // Short
          { n: "EGG", e: "ü•ö" },
          { n: "PIE", e: "ü•ß" },
          { n: "TEA", e: "üçµ" },
          { n: "NUT", e: "ü•ú" },
          { n: "JAM", e: "üçØ" },
          // Med
          { n: "CAKE", e: "üéÇ" },
          { n: "KIWI", e: "ü•ù" },
          { n: "CORN", e: "üåΩ" },
          { n: "PEAR", e: "üçê" },
          { n: "MILK", e: "ü•õ" },
          { n: "MEAT", e: "ü•©" },
          { n: "RICE", e: "üçö" },
          { n: "SOUP", e: "üç≤" },
          { n: "TACO", e: "üåÆ" },
          { n: "BREAD", e: "üçû" },
          { n: "APPLE", e: "üçé" },
          { n: "LEMON", e: "üçã" },
          { n: "SUSHI", e: "üç£" },
          { n: "PIZZA", e: "üçï" },
          { n: "DONUT", e: "üç©" },
          { n: "CANDY", e: "üç¨" },
          { n: "FRUIT", e: "üçá" },
          { n: "HONEY", e: "üçØ" },
          { n: "FRIES", e: "üçü" },
          // Long
          { n: "BANANA", e: "üçå" },
          { n: "BURGER", e: "üçî" },
          { n: "ORANGE", e: "üçä" },
          { n: "TOMATO", e: "üçÖ" },
          { n: "POTATO", e: "ü•î" },
          { n: "CARROT", e: "ü•ï" },
          { n: "COOKIE", e: "üç™" },
          { n: "CHEESE", e: "üßÄ" },
          { n: "HOTDOG", e: "üå≠" },
          { n: "POPCORN", e: "üçø" },
          { n: "CHICKEN", e: "üçó" },
          { n: "AVOCADO", e: "ü•ë" },
          { n: "NOODLES", e: "üçú" },
          { n: "CUPCAKE", e: "üßÅ" },
          { n: "SANDWICH", e: "ü•™" },
          { n: "CHOCOLATE", e: "üç´" },
          { n: "STRAWBERRY", e: "üçì" },
          { n: "WATERMELON", e: "üçâ" },
          { n: "SPAGHETTI", e: "üçù" },
          { n: "PINEAPPLE", e: "üçç" },
        ],
        vehicles: [
          // Short
          { n: "BUS", e: "üöå" },
          { n: "CAR", e: "üöó" },
          { n: "JET", e: "‚úàÔ∏è" },
          { n: "VAN", e: "üöê" },
          // Med
          { n: "TAXI", e: "üöï" },
          { n: "BIKE", e: "üö≤" },
          { n: "BOAT", e: "‚õµ" },
          { n: "SHIP", e: "üö¢" },
          { n: "TRUCK", e: "üöö" },
          { n: "TRAIN", e: "üöÇ" },
          { n: "CANOE", e: "üõ∂" },
          { n: "PLANE", e: "‚úàÔ∏è" },
          { n: "METRO", e: "üöá" },
          // Long
          { n: "ROCKET", e: "üöÄ" },
          { n: "SCOOTER", e: "üõ¥" },
          { n: "TRACTOR", e: "üöú" },
          { n: "SAILBOAT", e: "‚õµ" },
          { n: "MINIVAN", e: "üöê" },
          { n: "AIRPLANE", e: "‚úàÔ∏è" },
          { n: "AMBULANCE", e: "üöë" },
          { n: "FIRETRUCK", e: "üöí" },
          { n: "POLICECAR", e: "üöì" },
          { n: "HELICOPTER", e: "üöÅ" },
          { n: "MOTORCYCLE", e: "üèçÔ∏è" },
          { n: "SUBMARINE", e: ",üö¢" },
        ],
        space: [
          // Short
          { n: "SUN", e: "‚òÄÔ∏è" },
          // Med
          { n: "MOON", e: "üåô" },
          { n: "STAR", e: "‚≠ê" },
          { n: "MARS", e: "üü†" },
          { n: "UFO", e: "üõ∏" },
          { n: "EARTH", e: "üåç" },
          { n: "ALIEN", e: "üëΩ" },
          { n: "COMET", e: "‚òÑÔ∏è" },
          { n: "VENUS", e: "üü°" },
          // Long
          { n: "SATURN", e: "ü™ê" },
          { n: "URANUS", e: "üîµ" },
          { n: "PLANET", e: "ü™ê" },
          { n: "GALAXY", e: "üåå" },
          { n: "NEBULA", e: "üå´Ô∏è" },
          { n: "ROCKET", e: "üöÄ" },
          { n: "METEOR", e: "üå†" },
          { n: "JUPITER", e: "üü§" },
          { n: "TELESCOPE", e: "üî≠" },
          { n: "SATELLITE", e: "üõ∞Ô∏è" },
          { n: "ASTRONAUT", e: "üßë‚ÄçüöÄ" },
        ],
        weather: [
          // Short
          { n: "SUN", e: "‚òÄÔ∏è" },
          { n: "HOT", e: "ü•µ" },
          { n: "FOG", e: "üå´Ô∏è" },
          { n: "ICE", e: "üßä" },
          // Med
          { n: "RAIN", e: "üåßÔ∏è" },
          { n: "SNOW", e: "‚ùÑÔ∏è" },
          { n: "WIND", e: "üí®" },
          { n: "COLD", e: "ü•∂" },
          { n: "FIRE", e: "üî•" },
          { n: "STORM", e: "‚õàÔ∏è" },
          { n: "CLOUD", e: "‚òÅÔ∏è" },
          // Long
          { n: "THUNDER", e: "‚ö°" },
          { n: "TORNADO", e: "üå™Ô∏è" },
          { n: "RAINBOW", e: "üåà" },
          { n: "UMBRELLA", e: "‚òÇÔ∏è" },
          { n: "LIGHTNING", e: "‚ö°" },
          { n: "SNOWFLAKE", e: "‚ùÑÔ∏è" },
          { n: "SUNGLASSES", e: "üï∂Ô∏è" },
        ],
        emotions: [
          // Short
          { n: "SAD", e: "üò¢" },
          { n: "MAD", e: "üò°" },
          { n: "JOY", e: "üòÅ" },
          { n: "ILL", e: "ü§¢" },
          // Med
          { n: "LOVE", e: "üòç" },
          { n: "COOL", e: "üòé" },
          { n: "SICK", e: "ü§¢" },
          { n: "CALM", e: "üòå" },
          { n: "HAPPY", e: "üòä" },
          { n: "ANGRY", e: "üò°" },
          { n: "TIRED", e: "üò¥" },
          { n: "SILLY", e: "ü§™" },
          { n: "BORED", e: "üòê" },
          { n: "QUIET", e: "ü§´" },
          // Long
          { n: "SCARED", e: "üò±" },
          { n: "SHOCKED", e: "üò≤" },
          { n: "SLEEPY", e: "üò™" },
          { n: "NERVOUS", e: "üò¨" },
          { n: "EXCITED", e: "ü§©" },
          { n: "CONFUSED", e: "üòï" },
          { n: "SURPRISED", e: "üòÆ" },
          { n: "LAUGHING", e: "üòÇ" },
        ],
      };

      // --- GAME STATE ---
      let difficulty = { min: 2, max: 3 }; // Default Tiny
      let currentList = [];
      let currentItem = {};
      let filledSlots = [];
      let score = 0;

      // --- UI ELEMENTS ---
      const menuScreen = document.getElementById("menuScreen");
      const gameScreen = document.getElementById("gameScreen");
      const gameTitle = document.getElementById("gameTitle");
      const menuError = document.getElementById("menuError");
      const emojiDiv = document.getElementById("emoji");
      const slotsArea = document.getElementById("slotsArea");
      const tilesArea = document.getElementById("tilesArea");
      const msgDiv = document.getElementById("message");
      const scoreSpan = document.getElementById("scoreVal");

      // --- SETTINGS ---
      function setDifficulty(min, max, btn) {
        difficulty = { min, max };

        // Update Buttons Visual
        document
          .querySelectorAll(".diff-btn")
          .forEach((b) => b.classList.remove("selected"));
        btn.classList.add("selected");
        menuError.style.display = "none";
      }

      // --- START LOGIC ---
      function startGame(category) {
        // 1. Get List
        const rawList = data[category];

        // 2. Filter by Difficulty (Length)
        currentList = rawList.filter((item) => {
          const len = item.n.length;
          // For the highest level (7+), max is arbitrarily high (20)
          return len >= difficulty.min && len <= difficulty.max;
        });

        // 3. Validation
        if (currentList.length === 0) {
          menuError.style.display = "block";
          return;
        }

        // 4. Setup Game
        gameTitle.innerText = category.toUpperCase();
        score = 0;
        scoreSpan.innerText = score;

        menuScreen.classList.remove("active");
        gameScreen.classList.add("active");
        menuError.style.display = "none";

        loadNewItem();
      }

      function goToMenu() {
        gameScreen.classList.remove("active");
        menuScreen.classList.add("active");
      }

      // --- GAMEPLAY ---
      function loadNewItem() {
        const randomIndex = Math.floor(Math.random() * currentList.length);
        currentItem = currentList[randomIndex];
        filledSlots = new Array(currentItem.n.length).fill(null);

        // Reset Visuals
        emojiDiv.innerText = currentItem.e;
        emojiDiv.classList.remove("pop-anim");
        void emojiDiv.offsetWidth;
        msgDiv.innerText = "";

        createLayout();
      }

      function createLayout() {
        slotsArea.innerHTML = "";
        tilesArea.innerHTML = "";

        // Create Slots
        for (let i = 0; i < currentItem.n.length; i++) {
          let slot = document.createElement("div");
          slot.className = "slot";
          if (i === 0) slot.classList.add("active");
          slot.onclick = () => undoSlot(i);
          slotsArea.appendChild(slot);
        }

        // Create Scrambled Tiles
        let lettersObj = currentItem.n.split("").map((char, index) => {
          return { char: char, id: `tile-${index}` };
        });

        // Shuffle
        for (let i = lettersObj.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [lettersObj[i], lettersObj[j]] = [lettersObj[j], lettersObj[i]];
        }

        lettersObj.forEach((obj) => {
          let btn = document.createElement("button");
          btn.className = "tile";
          btn.innerText = obj.char;
          btn.id = obj.id;
          btn.onclick = () => useLetter(obj.id, obj.char);
          tilesArea.appendChild(btn);
        });
      }

      function useLetter(tileId, char) {
        const emptyIndex = filledSlots.findIndex((item) => item === null);
        if (emptyIndex !== -1) {
          filledSlots[emptyIndex] = tileId;

          // Update Slot
          const slot = slotsArea.children[emptyIndex];
          slot.innerText = char;
          slot.classList.add("filled");
          slot.classList.remove("active");

          // Hide Tile
          document.getElementById(tileId).classList.add("used");

          // Move Highlight
          if (emptyIndex + 1 < filledSlots.length) {
            slotsArea.children[emptyIndex + 1].classList.add("active");
          }
          checkWin();
        }
      }

      function undoSlot(index) {
        if (filledSlots[index] !== null) {
          const tileId = filledSlots[index];
          filledSlots[index] = null;

          const slot = slotsArea.children[index];
          slot.innerText = "";
          slot.classList.remove("filled");

          document.getElementById(tileId).classList.remove("used");
          updateHighlights();
        }
      }

      function updateHighlights() {
        Array.from(slotsArea.children).forEach((s) =>
          s.classList.remove("active")
        );
        const firstEmpty = filledSlots.findIndex((item) => item === null);
        if (firstEmpty !== -1)
          slotsArea.children[firstEmpty].classList.add("active");
      }

      function checkWin() {
        if (!filledSlots.includes(null)) {
          let formedWord = "";
          filledSlots.forEach(
            (id) => (formedWord += document.getElementById(id).innerText)
          );

          if (formedWord === currentItem.n) {
            score++;
            scoreSpan.innerText = score;
            msgDiv.className = "message correct-text";
            msgDiv.innerText = "üåü Correct! üåü";
            emojiDiv.classList.add("pop-anim");

            // Disable tiles
            Array.from(document.querySelectorAll(".tile")).forEach(
              (b) => (b.disabled = true)
            );
            setTimeout(loadNewItem, 1500);
          }
        }
      }

      function resetRound() {
        filledSlots.fill(null);
        Array.from(slotsArea.children).forEach((s) => {
          s.innerText = "";
          s.className = "slot";
        });
        Array.from(tilesArea.children).forEach((t) =>
          t.classList.remove("used")
        );
        updateHighlights();
      }

      function skipItem() {
        msgDiv.className = "message";
        msgDiv.style.color = "orange";
        msgDiv.innerText = `It was ${currentItem.n}!`;
        setTimeout(loadNewItem, 1500);
      }

      // Physical Keyboard Support
      document.addEventListener("keydown", (e) => {
        if (!gameScreen.classList.contains("active")) return;

        const key = e.key.toUpperCase();
        if (key === "BACKSPACE") {
          for (let i = filledSlots.length - 1; i >= 0; i--) {
            if (filledSlots[i] !== null) {
              undoSlot(i);
              break;
            }
          }
        } else if (key.match(/^[A-Z]$/)) {
          const tiles = Array.from(tilesArea.children);
          const available = tiles.find(
            (t) => t.innerText === key && !t.classList.contains("used")
          );
          if (available) useLetter(available.id, key);
        }
      });
    </script>
  </body>
</html>
